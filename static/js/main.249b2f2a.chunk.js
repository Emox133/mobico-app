(this["webpackJsonpmobico-app"]=this["webpackJsonpmobico-app"]||[]).push([[0],{167:function(e,t,a){e.exports=a(219)},172:function(e,t,a){},173:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),o=a.n(l),c=(a(172),a(9)),s=(a(173),a(46)),i=a(22),m=a(19),u=a(277),d=a(251),p=function(e){var t=e.children,a=e.onClick,n=e.tip,l=e.btnClassName,o=e.tipClassName;return r.a.createElement(u.a,{title:n,className:o,placement:"top"},r.a.createElement(d.a,{onClick:a,className:l},t))},f=function(e,t){return!("string"!==typeof Object.values(e)[0]||!Object.values(e)[0].startsWith(t))},E=a(256),g=a(274),h=a(276),b=a(255),y=a(253),O=a(252),v=a(129),j=a.n(v),w=a(6),S="SET_ERRORS",x=a(16),_=a.n(x),C=function(){return function(e){e({type:"LOADING_FROM_DATA"}),_.a.get("/posts",{validateStatus:function(){return!0}}).then((function(t){e({type:"SET_POSTS",payload:t.data.data.posts})})).catch((function(e){return console.log(e)}))}},N=function(e){return function(t){_.a.get("/posts/".concat(e),{validateStatus:function(){return!0}}).then((function(e){"error"!==e.data.status&&"fail"!==e.data.status?t({type:"SET_ONE_POST",payload:e.data.data}):t({type:S,payload:{message:e.data.message}})})).catch((function(e){console.log(e)}))}},T=Object(s.g)((function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({text:""}),i=Object(c.a)(s,2),u=i[0],d=i[1],v=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,x=Object(w.c)(),N=function(){o(!1),x({type:"CLEAR_ERRORS"})};return r.a.createElement(n.Fragment,null,r.a.createElement(p,{tip:"Create Post",onClick:function(){o(!0)}},r.a.createElement(j.a,null)),r.a.createElement(h.a,{open:l,onClose:N,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement("form",{onSubmit:function(t){var a;t.preventDefault(),x((a={text:u.text},e.history,u.text,function(e){e({type:"LOADING_FROM_DATA"}),_.a.post("/posts",a,{validateStatus:function(){return!0}}).then((function(t){"error"!==t.data.status?(e({type:"CREATE_POST"}),e(C())):(e({type:S,payload:{createPostMsg:t.data.message}}),e({type:"STOP_LOADING"}))})).catch((function(e){return console.error(e)}))})),u.text.length>0&&o(!1)}},r.a.createElement(O.a,{id:"form-dialog-title"},"Create a post"),r.a.createElement(y.a,null,r.a.createElement(g.a,{autoFocus:!0,error:!!f(v,"Post"),helperText:f(v,"Post")?v.createPostMsg:null,margin:"dense",id:"text",name:"text",type:"text",label:"Post",multiline:!0,fullWidth:!0,onChange:function(e){d(Object(m.a)({},e.target.name,e.target.value))}})),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:N,color:"secondary"},"Cancel"),r.a.createElement(E.a,{type:"submit"},"Post")))))})),P=a(7),I=a(258),k=a(257),R=a(131),A=a.n(R),D=function(e){return function(t){e.push("/login"),localStorage.removeItem("token"),delete _.a.defaults.headers.common.Authorization,t({type:"LOGOUT_USER"}),e.go(0)}},F=function(){return function(e){e({type:"SET_AUTHENTICATED"}),_.a.get("users/me",{validateStatus:function(){return!0}}).then((function(t){e({type:"SET_USER",payload:t.data.data})})).catch((function(e){return console.log(e)}))}},L=function(e){return function(t){_.a.patch("users/updateMe",e,{validateStatus:function(){return!0}}).then((function(e){"fail"!==e.data.status&&"error"!==e.data.status?(t(F()),alert("Data changed successfully. \ud83d\ude1c")):(t({type:"STOP_USER_LOADING"}),t({type:S,payload:e.data.error.errors}))})).catch((function(e){console.error(e)}))}},W=function(e){var t="Bearer ".concat(e);localStorage.setItem("token",t),_.a.defaults.headers.common.Authorization=t},M=Object(n.forwardRef)((function(e,t){var a=Object(n.useState)(!1),l=Object(c.a)(a,2),o=l[0],s=l[1],i=Object(n.useState)({currentPassword:"",password:"",confirmPassword:""}),u=Object(c.a)(i,2),d=u[0],p=u[1],v=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,j=Object(w.c)(),x=function(e){p(Object(P.a)({},d,Object(m.a)({},e.target.name,e.target.value)))},C=function(t){t.preventDefault();var a=Object(P.a)({},d);j((function(){return j(function(e,t){return function(a){a({type:"LOADING_DATA"}),_.a.patch("/users/updateMyPassword",e,{validateStatus:function(){return!0}}).then((function(e){"fail"!==e.data.status&&"error"!==e.data.status?(a({type:"STOP_USER_LOADING"}),alert("".concat(e.data.message," \ud83c\udf88 Please log in again \ud83d\ude03")),a(D(t))):(a({type:"STOP_USER_LOADING"}),a({type:S,payload:{newPasswordMessage:e.data.message}}))})).catch((function(e){console.log(e)}))}}(a,e.history))})),Object.values(v)||s(!1)};return r.a.createElement("div",null,r.a.createElement(k.a,{onClick:function(){s(!0)}},r.a.createElement("span",{style:{marginRight:".5rem"}},"Change Password"),r.a.createElement(A.a,{color:"secondary"})),r.a.createElement(h.a,{open:o},r.a.createElement(O.a,null,"Change Your Password"),r.a.createElement(y.a,null,r.a.createElement(I.a,null,"Please provide the data necessary to perform this action."),r.a.createElement(g.a,{id:"currentPassword",type:"password",name:"currentPassword",label:"Current Password",error:!!f(v,"Your"),helperText:f(v,"Your")?v.newPasswordMessage:null,fullWidth:!0,onChange:function(e){return x(e)}}),r.a.createElement(g.a,{id:"password",type:"password",name:"password",label:"New Password",fullWidth:!0,error:!!f(v,"User"),helperText:f(v,"User")?v.newPasswordMessage:null,onChange:function(e){return x(e)}}),r.a.createElement(g.a,{id:"confirmPassword",type:"password",name:"confirmPassword",label:"Confirm Password",error:!!f(v,"User"),helperText:f(v,"User")?v.newPasswordMessage:null,fullWidth:!0,onChange:function(e){return x(e)}})),r.a.createElement(b.a,null,r.a.createElement(E.a,{color:"secondary",onClick:function(){s(!1),j({type:"CLEAR_ERRORS"})}},"Cancel"),r.a.createElement(E.a,{type:"submit",color:"primary",onClick:function(e){return C(e)}},"Submit"))))})),U=r.a.memo(M),z=a(132),B=a.n(z),G=a(150),Y=a(133),q=a.n(Y),V=Object(s.g)((function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),l=a[0],o=a[1];return r.a.createElement("div",null,r.a.createElement(u.a,{title:"Settings"},r.a.createElement(d.a,{onClick:function(e){o(e.currentTarget)}},r.a.createElement(B.a,null))),r.a.createElement(G.a,{id:"simple-menu",anchorEl:l,getContentAnchorEl:null,keepMounted:!0,open:Boolean(l),onClose:function(){o(null)}},r.a.createElement(U,{history:e.history}),r.a.createElement(k.a,{onClick:e.logout},r.a.createElement("span",{style:{marginRight:".5rem"}},"Logout"),r.a.createElement(q.a,{color:"secondary"}))))})),K=a(34),H=a.n(K),X=a(260),J=a(89),Q=a.n(J),$=a(86),Z=a.n($),ee=a(134),te=a.n(ee),ae=a(57),ne=a(259),re=Object(s.g)((function(e){var t,a=Object(n.useState)(null),l=Object(c.a)(a,2),o=l[0],s=l[1],m=Object(ne.a)("(max-width: 768px)"),p=Object(w.d)((function(e){return{notifications:e.user.notifications}}),w.b).notifications,f=Object(w.c)(),E=function(){s(null)};t=p&&p.length>0&&p.filter((function(e){return!1===e.read})).length>0?r.a.createElement(X.a,{badgeContent:p.filter((function(e){return!1===e.read})).length,color:"secondary"},r.a.createElement(Q.a,{onClick:function(){f((function(e){_.a.patch("/users/notifications",{validateStatus:function(){return!0}}).then((function(t){e({type:"READ_NOTIFICATIONS"})})).catch((function(e){console.log(e)}))}))}})):r.a.createElement(Q.a,null);var g=p&&p.length>0?p.map((function(e){var t="like"===e.type?"liked":"commented",a=H()(e.createdAt).fromNow(),n=e.read?"primary":"secondary",l="like"===e.type?r.a.createElement(Z.a,{color:n,style:{marginRight:10}}):r.a.createElement(te.a,{color:n,style:{marginRight:10}});return r.a.createElement(k.a,{key:e.createdAt,onClick:E,component:i.b,to:"/me/posts/".concat(e.postId)},l,r.a.createElement(ae.a,{style:{fontSize:".7rem"}},e.sender," ",t," your post ",a))})):r.a.createElement(k.a,{onClick:E},"You have no notifications yet.");return r.a.createElement("div",null,r.a.createElement(u.a,{title:"Notifications"},r.a.createElement(d.a,{onClick:function(e){return function(e){s(e.currentTarget)}(e)}},t)),r.a.createElement(G.a,{id:"simple-menu",style:{height:m?"75%":"100%"},anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:E},g))})),le=function(e){return r.a.createElement("span",{className:"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true"},e.symbol)},oe=a(135),ce=a.n(oe),se=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({firstName:"",lastName:"",email:"",bio:"",location:"",username:"",website:""}),i=Object(c.a)(s,2),p=i[0],f=i[1],v=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,j=v.firstName,S=v.lastName,x=v.email,_=v.location,C=v.username,N=Object(w.c)(),T=function(){o(!1),N({type:"CLEAR_ERRORS"})},k=function(e){f(Object(m.a)({},e.target.name,e.target.value))};return r.a.createElement(n.Fragment,null,r.a.createElement(u.a,{title:"Edit profile",onClick:function(){o(!0)}},r.a.createElement(d.a,null,r.a.createElement(ce.a,null))),r.a.createElement(h.a,{open:l,onClose:T},r.a.createElement("form",{onSubmit:function(t){t.preventDefault();var a=Object(P.a)({},p);N(L(a,e.history)),Object.values(v)||o(!1)}},r.a.createElement(O.a,null,"Edit your profile details ",r.a.createElement(le,{symbol:"\u270d",label:"edit"})),r.a.createElement(y.a,null,r.a.createElement(I.a,null,r.a.createElement("span",{role:"img","aria-label":"note"},"Note \u2714")," Feel free to change fields individualy but be aware that the field validation is still on."),r.a.createElement(g.a,{autoFocus:!0,id:"firstName",name:"firstName",type:"text",error:!!j,helperText:j?j.message:null,label:"First name",onChange:function(e){return k(e)},fullWidth:!0}),r.a.createElement(g.a,{autoFocus:!0,id:"lastName",name:"lastName",type:"text",error:!!S,helperText:S?S.message:null,label:"Last name",onChange:function(e){return k(e)},fullWidth:!0}),r.a.createElement(g.a,{autoFocus:!0,id:"email",name:"email",type:"email",error:!!x,helperText:x?x.message:null,label:"E-mail",onChange:function(e){return k(e)},fullWidth:!0}),r.a.createElement(g.a,{autoFocus:!0,id:"bio",name:"bio",type:"text",label:"Biography",onChange:function(e){return k(e)},fullWidth:!0}),r.a.createElement(g.a,{autoFocus:!0,id:"location",name:"location",type:"text",error:!!_,helperText:_?_.message:null,label:"Location",onChange:function(e){return k(e)},fullWidth:!0}),r.a.createElement(g.a,{autoFocus:!0,id:"username",name:"username",type:"text",error:!!C,helperText:C?C.message:null,label:"Username",onChange:function(e){return k(e)},fullWidth:!0}),r.a.createElement(g.a,{autoFocus:!0,id:"website",name:"website",type:"text",label:"Website",onChange:function(e){return k(e)},fullWidth:!0})),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:T,color:"secondary"},"Cancel"),r.a.createElement(E.a,{type:"submit",color:"primary"},"Confirm")))))},ie=a(136),me=a.n(ie),ue=function(){var e=Object(w.c)();return r.a.createElement(n.Fragment,null,r.a.createElement("form",{encType:"multipart/form-data"},r.a.createElement("input",{type:"file",name:"photo",id:"image__input",hidden:"hidden",onChange:function(t){var a=t.target.files[0],n=new FormData;n.append("photo",a,a.name),e(L(n))}})),r.a.createElement(u.a,{title:"Change profile image"},r.a.createElement(d.a,{onClick:function(){document.getElementById("image__input").click()}},r.a.createElement(me.a,null))))},de=a(278);function pe(e){return r.a.createElement(de.a,{alt:e.owner,src:e.image})}var fe=a(138),Ee=a.n(fe),ge=a(137),he=a.n(ge),be=a(279),ye=function(e){var t=Object(w.d)((function(e){return{username:e.user.user.username,userImage:e.user.user.userImage}}),w.b),a=t.username,l=t.userImage,o=Object(ne.a)("(max-width: 960px)"),c=r.a.createElement(u.a,{title:"".concat(a)},r.a.createElement(d.a,{component:i.b,to:"/me"},r.a.createElement(pe,{owner:a,image:l})));return r.a.createElement(n.Fragment,null,o?c:null,r.a.createElement(u.a,{title:"Home"},r.a.createElement(d.a,{component:i.b,to:"/"},r.a.createElement(he.a,null))),r.a.createElement(T,null),o?null:r.a.createElement(u.a,{title:"Profile"},r.a.createElement(d.a,{component:i.b,to:"/me"},r.a.createElement(Ee.a,null))),r.a.createElement(re,null),o?r.a.createElement(ue,null):null,o?r.a.createElement(se,null):null,r.a.createElement(u.a,{title:"Day / Night"},r.a.createElement(be.a,{onClick:e.mode})),r.a.createElement(V,{logout:e.logout}))},Oe=a(261),ve=a(262),je=Object(s.g)((function(e){var t=Object(w.d)((function(e){return{authenticated:e.user.authenticated}}),w.b).authenticated,a=Object(w.c)(),l=t?r.a.createElement(ye,{logout:function(){return a(D(e.history))},mode:e.mode}):r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{color:"inherit",component:i.b,to:"/",style:{textTransform:"capitalize"}},"Signup"),r.a.createElement(E.a,{color:"inherit",component:i.b,to:"/login",style:{textTransform:"capitalize"}},"Login"));return r.a.createElement(Oe.a,{position:t?"sticky":"relative",style:{height:t?"100vh":null},color:"primary"},r.a.createElement(ve.a,{className:t?"nav__toolbar":null,style:{justifyContent:t?null:"center"}},l))})),we=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Error 404 (Not Found)"))},Se=a(254),xe=a(263),_e=a(222),Ce=a(264),Ne=a(265),Te=a(139),Pe=a.n(Te),Ie=r.a.memo((function(e){var t=Object(w.d)((function(e){return{user:e.user.user}}),w.b).user,a=Object(w.c)(),l=e.comments,o=Object(ne.a)("(max-width: 375px)"),c=t._id===l.owner?r.a.createElement(u.a,{title:"Delete comment"},r.a.createElement(d.a,{onClick:function(){var e,t;a((e=l._id,t=l.belongsTo,function(a){_.a.delete("/posts/".concat(t,"/comment/").concat(e),{validateStatus:function(){return!0}}).then((function(n){a({type:"REMOVE_COMMENT",commentId:e,id:t})})).catch((function(e){return console.log(e)}))}))},style:{position:"absolute",top:".3rem",right:o?"-.8rem":"0"}},r.a.createElement(Pe.a,{color:"secondary"}))):null;return r.a.createElement(Se.a,null,r.a.createElement(_e.a,{className:"posts__comment"},c,r.a.createElement(xe.a,null,r.a.createElement(de.a,{alt:l.ownerName,src:l.ownerImage})),r.a.createElement(Ce.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{component:"span",variant:"h6",style:{fontSize:o?".88rem":"1.125rem"}},l.ownerName),r.a.createElement(ae.a,{variant:"subtitle2",style:{marginBottom:".5rem",fontSize:o?".6rem":".8rem"}},H()(l.createdAt).format("MMMM Do YYYY, h:mm a")),r.a.createElement(ae.a,{style:{fontSize:o?".8rem":"1rem"}}," - "+l.text)))),r.a.createElement(Ne.a,{variant:"inset",component:"hr"}))})),ke=a(220),Re=a(140),Ae=a.n(Re),De=Object(ke.a)((function(e){return Object(P.a)({},e.spreadThis)}))((function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(w.d)((function(e){return{post:e.data.singlePost.post,comments:e.data.singlePost.comments}}),w.b),i=s.post,m=s.comments,u=Object(w.c)(),p=e.rule,f=e.postId,E=Object(ne.a)("(max-width: 600px)"),g=function(){return o(!1),f=null,p?e.history.push("/me"):null};return Object(n.useEffect)((function(){p&&(o(!0),u(N(f)))}),[p,f,u]),r.a.createElement("div",{style:{display:e.postId?"none":null}},r.a.createElement(d.a,{onClick:function(){o(!0),u(N(e.id))}},r.a.createElement(Ae.a,null)),r.a.createElement(h.a,{open:l,maxWidth:"md",onClose:g},r.a.createElement(b.a,null,r.a.createElement("span",{onClick:g,style:{fontSize:"2rem",marginRight:".5rem"}},"\xd7")),r.a.createElement("div",{className:"posts__individual",style:{height:E?"90vh":null}},r.a.createElement("img",{src:i.userImage,alt:i.owner,className:E?e.classes.postImageSmall:e.classes.postImage}),r.a.createElement(ae.a,{variant:E?"h4":"h3"},i.owner),r.a.createElement(ae.a,null,H()(i.createdAt).fromNow()),r.a.createElement(y.a,{style:{width:E?"100%":"80%"}},r.a.createElement(ae.a,null,i.text),r.a.createElement(ae.a,{variant:"h4",style:{marginTop:"1rem",height:"1.9rem"}},"Comments"),m.map((function(e){return r.a.createElement(Ie,{key:e._id,comments:e,id:i._id})}))))))})),Fe=a(141),Le=a.n(Fe),We=Object(s.g)((function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(w.d)((function(e){return{user:e.user.user}}),w.b).user,i=Object(w.c)(),m=function(){o(!1)},u="".concat(s.firstName," ").concat(s.lastName),d=e.owner===u?r.a.createElement(p,{tip:"Delete Post",onClick:function(){o(!0)}},r.a.createElement(Le.a,{color:"secondary"})):null;return r.a.createElement(n.Fragment,null,d,r.a.createElement(h.a,{open:l,onClose:m,"aria-labelledby":"form-dialog-title",fullWidth:!0},r.a.createElement("form",null,r.a.createElement(O.a,{id:"form-dialog-title"},"Are you sure you want to delete this post?"),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:m},"Cancel"),r.a.createElement(E.a,{type:"button",color:"secondary",onClick:function(){var t;i((t=e.id,function(e){e({type:"LOADING_FROM_DATA"}),_.a.delete("/posts/".concat(t),{validateStatus:function(){return!0}}).then((function(a){e({type:"DELETE_POST",id:t}),e({type:"START_SCROLL_EFFECT",switch:"off"})})).catch((function(t){console.error(t),e({type:S,payload:t})}))}))}},"Delete")))))})),Me=a(142),Ue=a.n(Me),ze=function(e){var t=e.post,a=Object(w.c)();return r.a.createElement(n.Fragment,null,r.a.createElement(p,{tip:"Like Post",onClick:function(){var e;a((e=t._id,function(t){_.a.post("/posts/".concat(e,"/like"),null,{validateStatus:function(){return!0}}).then((function(a){t({type:"LIKE_POST",id:e,payload:a.data.data.like})})).catch((function(e){return console.error(e)}))}))}},r.a.createElement(Ue.a,{color:"primary"})),r.a.createElement("span",{style:{fontSize:".8rem"}},t.likeCount," Likes"))},Be=a(143),Ge=a.n(Be),Ye=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({text:""}),i=Object(c.a)(s,2),p=i[0],v=i[1],j=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,x=Object(w.c)(),C=function(){o(!1),x({type:"CLEAR_ERRORS"})},N=function(t){t.preventDefault();var a=Object(P.a)({},p);x(function(e,t){return function(a){_.a.post("/posts/".concat(e,"/comment"),t,{validateStatus:function(){return!0}}).then((function(t){"fail"!==t.data.status&&"error"!==t.data.status?(a({type:"COMMENT_POST",id:e}),alert("Comment posted.")):a({type:S,payload:{commentErr:t.data.message}})})).catch((function(e){return console.log(e)}))}}(e.id,a)),p.text.length>0&&o(!1)};return r.a.createElement("form",{onSubmit:N},r.a.createElement(u.a,{title:"Comment post"},r.a.createElement(d.a,{onClick:function(){o(!0)}},r.a.createElement(Ge.a,{color:"primary"}))),r.a.createElement(h.a,{open:l,onClose:C,fullWidth:!0},r.a.createElement(O.a,null,"Comment post"),r.a.createElement(y.a,null,r.a.createElement(I.a,null),r.a.createElement(g.a,{id:"text",name:"text",placeholder:"Nice one ! \ud83d\ude03\ud83d\udd25",type:"text",error:!!f(j,"Comment"),helperText:f(j,"Comment")?j.commentErr:null,fullWidth:!0,multiline:!0,rowsMax:5,onChange:function(e){return function(e){v(Object(m.a)({},e.target.name,e.target.value))}(e)}})),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:C,color:"secondary"},"Cancel"),r.a.createElement(E.a,{type:"submit",onClick:function(e){return N(e)}},"Submit"))))},qe=function(e){var t=e.post,a=Object(w.c)();return r.a.createElement(n.Fragment,null,r.a.createElement(p,{tip:"Dislike Post",onClick:function(){var e;a((e=t._id,function(t){_.a.post("/posts/".concat(e,"/dislike"),null,{validateStatus:function(){return!0}}).then((function(a){t({type:"DISLIKE_POST",id:e})})).catch((function(e){}))}))}},r.a.createElement(Z.a,{color:"primary"})),r.a.createElement("span",null,t.likeCount," Likes"))},Ve=a(266),Ke=a(268),He=a(267),Xe=Object(ke.a)((function(e){return Object(P.a)({},e.spreadThis)}))((function(e){var t=Object(ne.a)("(max-width: 960px)"),a=e.post,n=e.classes,l=Object(w.d)((function(e){return{likes:e.user.likes}}),w.b).likes,o=l&&l.find((function(e){return e.belongsTo===a._id}))?r.a.createElement(qe,{post:a}):r.a.createElement(ze,{post:a});return r.a.createElement(Ve.a,{className:t?n.cardSmall:n.card},r.a.createElement(He.a,{className:n.userImage,image:a.userImage,title:"User"}),r.a.createElement(Ke.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"2rem"}},r.a.createElement(ae.a,{className:n.owner},a.owner),r.a.createElement(We,{id:a._id,owner:a.owner})),r.a.createElement(ae.a,{style:{fontWeight:"bold",marginBottom:".5rem"}},H()(a.createdAt).fromNow()),r.a.createElement(ae.a,{className:n.text},a.text),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o,r.a.createElement(Ye,{id:a._id}),r.a.createElement("span",{style:{fontSize:".8rem"}},a.commentCount," Comments"),r.a.createElement(De,{id:a._id}))))})),Je=a(102),Qe=function(){var e=Object(ne.a)("(max-width: 960px)");return Object(n.useEffect)((function(){Object(Je.a)({targets:"div.box",translateY:[{value:200,duration:500},{value:0,duration:800}],rotate:{value:"1turn"},borderRadius:50,direction:"alternate",easing:"easeInOutQuad",delay:function(){return Je.a.random(0,1e3)},loop:!0,elasticity:200})}),[]),r.a.createElement("div",{id:"boxes",style:{width:e?"calc(100% - 54.4px)":null,height:e?"100vh":null}},r.a.createElement("div",{className:"box one"}),r.a.createElement("div",{className:"box two"}),r.a.createElement("div",{className:"box three"}),r.a.createElement("div",{className:"box four"}))},$e=a(65),Ze=a.n($e),et=a(152),tt=Ze()((function(e){return Object(P.a)({},e.spreadThis)}))((function(e){var t=Object(w.d)((function(e){return{user:e.user.user,loading:e.user.loading}}),w.b),a=t.user,n=t.loading,l=e.classes,o=a.userImage,c=a.firstName,s=a.lastName,i=a.username,m=a.location,u=a.website,d=a.bio;return a&&!n?r.a.createElement(et.a,{className:l.paper},r.a.createElement("div",{className:l.imageWrapper},r.a.createElement("img",{src:o,className:l.profileImage,alt:"profile"}),r.a.createElement(ue,null),r.a.createElement(se,{history:e.history}),r.a.createElement(ae.a,{variant:"h4"},c," ",s),r.a.createElement(ae.a,{variant:"h4"},"@",i),r.a.createElement(ae.a,null,m),u?r.a.createElement(ae.a,null,u):null,d?r.a.createElement(ae.a,null,d):null)):r.a.createElement(Qe,null)})),at=a(270),nt=a(144),rt=a.n(nt),lt=a(271),ot=function(e){var t=Object(n.useRef)(null),a=Object(w.c)(),l=Object(w.d)((function(e){return{posts:e.data.posts,post:e.data.post,loading:e.data.loading}}),w.b),o=l.posts,c=l.loading;window.addEventListener("load",(function(){0===o.length&&a(C())}));var s,i=c?r.a.createElement(Qe,null):o.map((function(e){return r.a.createElement(Xe,{key:e._id,post:e})}));return r.a.createElement(at.a,{container:!0,style:{position:"relative"}},r.a.createElement(at.a,{item:!0,sm:12,xs:12,md:7},i,r.a.createElement(u.a,{title:"Scroll to bottom"},r.a.createElement(lt.a,{color:"primary",size:"small",style:{position:"fixed",zIndex:"10000",bottom:"1rem",right:".8rem"},onClick:(s=t,function(e){s.current.scrollIntoView({behavior:"smooth"})})},r.a.createElement(rt.a,null))),r.a.createElement("div",{ref:t})),r.a.createElement(at.a,{item:!0,md:5},r.a.createElement(tt,{history:e.history})))},ct=a(87),st=a.n(ct),it=a(272),mt=a(48),ut=a.n(mt),dt=Ze()((function(e){return Object(P.a)({},e.spreadThis)}))((function(e){var t=Object(n.useState)({firstName:"",lastName:"",username:"",email:"",password:"",confirmPassword:"",bio:"",website:"",location:""}),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(ne.a)("(max-width: 650px)"),i=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,d=Object(w.c)(),p=e.classes,f=function(e){o(Object(P.a)({},l,Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement(at.a,{container:!0,className:p.formWrapper},r.a.createElement(at.a,{item:!0,xs:!0}),r.a.createElement(at.a,{item:!0,xs:!0},r.a.createElement("img",{src:st.a,alt:"mobico logo",className:s?p.logoSmall:p.logo}),r.a.createElement("form",{noValidate:!0,autoComplete:"off",className:p.form,onSubmit:function(t){t.preventDefault();var a,n,r={firstName:l.firstName,lastName:l.lastName,username:l.username,email:l.email,password:l.password,confirmPassword:l.confirmPassword,bio:l.bio,website:l.website,location:l.location};d((a=r,n=e.history,function(e){_.a.post("users/signup",a,{validateStatus:function(){return!0}}).then((function(t){"fail"!==t.data.status&&"error"!==t.data.status&&t.data.token?(W(t.data.token),e(F()),n.push("/"),n.go(0)):e({type:S,payload:t.data.error.errors})})).catch((function(e){return console.log(e)}))}))}},r.a.createElement(g.a,{id:"firstName",name:"firstName",type:"text",placeholder:"First Name",error:!!i.firstName,helperText:i.firstName?i.firstName.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.firstName,fullWidth:!0}),r.a.createElement(g.a,{id:"lastName",name:"lastName",placeholder:"Last Name",type:"text",error:!!i.lastName,helperText:i.lastName?i.lastName.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.lastName,fullWidth:!0}),r.a.createElement(g.a,{id:"username",name:"username",placeholder:"Username",type:"text",error:!!i.username,helperText:i.username?i.username.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.username,fullWidth:!0}),r.a.createElement(g.a,{id:"email",name:"email",placeholder:"Email",type:"email",error:!!i.email,helperText:i.email?i.email.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.email,fullWidth:!0}),r.a.createElement(g.a,{id:"password",name:"password",placeholder:"Password",type:"password",error:!!i.password,helperText:i.password?i.password.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.password,fullWidth:!0}),r.a.createElement(g.a,{id:"confirmPassword",name:"confirmPassword",placeholder:"Confirm Password",type:"password",error:!!i.confirmPassword,helperText:i.confirmPassword?i.confirmPassword.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.confirmPassword,fullWidth:!0}),r.a.createElement(g.a,{id:"location",name:"location",placeholder:"Location",type:"text",error:!!i.location,helperText:i.location?i.location.message:null,InputProps:{startAdornment:r.a.createElement(it.a,{position:"start"},r.a.createElement(u.a,{title:"Required",placement:"top"},r.a.createElement(ut.a,null)))},className:p.textField,onChange:f,value:l.location,fullWidth:!0}),r.a.createElement(g.a,{id:"website",name:"website",placeholder:"Website",type:"text",className:p.textField,onChange:f,value:l.website,fullWidth:!0}),r.a.createElement(g.a,{id:"bio",name:"bio",placeholder:"Biography",type:"text",multiline:!0,rows:"3",className:p.textField,onChange:f,value:l.bio,fullWidth:!0}),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"10px"}},"Signup")),r.a.createElement(ae.a,{style:{marginTop:".7rem",fontSize:s?"1rem":"1.3rem"}},"\xa9 Developed and designed by ",r.a.createElement("span",{style:{fontWeight:"bold",letterSpacing:".05em"}},"Emir Salihovi\u0107"))),r.a.createElement(at.a,{item:!0,xs:!0}))})),pt=a(145),ft=a.n(pt),Et=a(146),gt=a.n(Et),ht=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({email:""}),i=Object(c.a)(s,2),u=i[0],d=i[1],p=Object(w.c)(),f=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,v=function(){o(!1),p({type:"CLEAR_ERRORS"})},j=function(t){t.preventDefault(),p({type:"CLEAR_ERRORS"}),p(function(e,t){return function(a){_.a.post("/users/forgotPassword",e,{validateStatus:function(){return!0}}).then((function(e){"fail"!==e.data.status&&"error"!==e.data.status?(alert("Email sent!"),t.go(0)):a({type:S,payload:{emailMessage:e.data.message}})})).catch((function(e){console.log(e)}))}}(u,e.history))};return r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{color:"primary",onClick:function(){o(!0)},style:{marginTop:".5rem"}},"Forgot Password ",r.a.createElement(ft.a,null)),r.a.createElement(h.a,{open:l,onClose:v,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){return j(e)}},r.a.createElement(O.a,{id:"form-dialog-title"},"Forgot your password ? ",r.a.createElement(le,{symbol:"\ud83d\udd10",label:"password"})),r.a.createElement(y.a,null,r.a.createElement(I.a,null,"Please provide us with your e-mail so that we can help you generate new password."),r.a.createElement(g.a,{autoFocus:!0,margin:"dense",name:"email",id:"e-mail",error:!!f.emailMessage,helperText:f.emailMessage?f.emailMessage:null,label:"E-mail",type:"email",fullWidth:!0,onChange:function(e){return function(e){d(Object(m.a)({},e.target.name,e.target.value))}(e)}})),r.a.createElement(b.a,null,r.a.createElement(E.a,{onClick:v,color:"secondary"},"Cancel"),r.a.createElement(E.a,{type:"submit",color:"primary"},"Send ",r.a.createElement(gt.a,null))))))},bt=Ze()((function(e){return Object(P.a)({},e.spreadThis)}))((function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(w.d)((function(e){return{errors:e.UI.errors}}),w.b).errors,i=e.classes,u=Object(w.c)(),d=Object(ne.a)("(max-width: 650px)"),p=function(e){o(Object(P.a)({},l,Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement(at.a,{container:!0,className:i.formWrapper},r.a.createElement(at.a,{item:!0,xs:!0}),r.a.createElement(at.a,{item:!0,xs:!0},r.a.createElement("img",{src:st.a,alt:"mobico logo",className:d?i.logoSmall:i.logo}),r.a.createElement("form",{noValidate:!0,autoComplete:"on",className:i.form,onSubmit:function(t){t.preventDefault();var a,n,r=l.email,o=l.password;u((a={email:r,password:o},n=e.history,function(e){_.a.post("/users/login",a,{validateStatus:function(){return!0}}).then((function(t){"fail"!==t.data.status&&"error"!==t.data.status&&t.data.token?(W(t.data.token),e(F()),n.push("/"),n.go(0)):e({type:S,payload:Object.assign({message:t.data.message},{})||t.data.error})})).catch((function(e){return console.log(e)}))}))}},r.a.createElement(g.a,{id:"email",name:"email",placeholder:"Email",type:"email",error:!!s.message,helperText:s.message?s.message:null,className:i.textField,onChange:p,value:l.email,fullWidth:!0}),r.a.createElement(g.a,{id:"password",name:"password",placeholder:"Password",type:"password",error:!!s.message,helperText:s.message?s.message:null,className:i.textField,onChange:p,value:l.password,fullWidth:!0}),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary",style:{marginTop:"10px"},className:i.button},"Login")),r.a.createElement(ht,{history:e.history})),r.a.createElement(at.a,{item:!0,xs:!0}))})),yt=function(e){var t=Object(n.useState)({password:"",confirmPassword:""}),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(w.d)((function(e){return{errors:e.UI.errors,loading:e.user.loading}}),w.b),i=s.errors,u=s.loading,d=Object(w.c)(),p=e.location.pathname.split("/")[2],h=Object(ne.a)("(max-width: 768px)"),b=function(e){o(Object(P.a)({},l,Object(m.a)({},e.target.name,e.target.value)))};f(i,"Token")&&alert(i.resetMessage);return u?r.a.createElement(Qe,null):r.a.createElement(n.Fragment,null,r.a.createElement(ae.a,{variant:h?"h4":"h3",gutterBottom:!0,align:"center",style:{marginTop:"2rem"}},"Reset Your Password ",r.a.createElement(le,{symbol:"\ud83d\udd13",label:"emoji"})),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),d({type:"CLEAR_ERRORS"});var a={password:l.password,confirmPassword:l.confirmPassword};d(function(e,t,a){return function(n){_.a.post("/users/resetPassword/".concat(e),t,{validateStatus:function(){return!0}}).then((function(e){"fail"!==e.data.status&&"error"!==e.data.status&&e.data.token?(W(e.data.token),n(F()),a.push("/"),alert("Password successfully changed! \ud83c\udf89")):(n({type:"STOP_USER_LOADING"}),n({type:S,payload:{resetMessage:e.data.message}}))})).catch((function(e){return console.log(e)}))}}(p,a,e.history))},style:{width:h?"65%":"35%",margin:"0 auto",textAlign:"center"}},r.a.createElement(g.a,{autoFocus:!0,id:"password",type:"password",name:"password",label:"New Password",error:!!f(i,"User"),helperText:f(i,"User")?i.resetMessage:null,fullWidth:!0,style:{marginBottom:".5rem"},onChange:function(e){return b(e)}}),r.a.createElement(g.a,{autoFocus:!0,id:"confirmPassword",type:"password",name:"confirmPassword",label:"Confirm Password",error:!!f(i,"User"),helperText:f(i,"User")?i.resetMessage:null,fullWidth:!0,onChange:function(e){return b(e)}}),r.a.createElement(E.a,{type:"submit",color:"primary",variant:"contained",size:"small",style:{marginTop:".5rem"}},"Submit")))},Ot=a(147),vt=a.n(Ot),jt=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],o=a[1],s=Object(w.c)();return r.a.createElement(n.Fragment,null,r.a.createElement(u.a,{title:"Delete profile",placement:"left"},r.a.createElement(vt.a,{onClick:function(){o(!0)},className:"profile__user-delete",fontSize:"large"})),r.a.createElement(h.a,{open:l},r.a.createElement(O.a,null,"Delete Profile ?",r.a.createElement(le,{symbol:"\ud83d\ude2a",label:"sad face"})),r.a.createElement(y.a,null,r.a.createElement(I.a,null,"Are you sure you want to delete your profile ? Once you agree there is no going back.")),r.a.createElement(b.a,null,r.a.createElement(E.a,{type:"submit",color:"secondary",onClick:function(){return s((t=e.history,function(e){e({type:"LOADING_DATA"}),_.a.delete("/users/deleteMe",{validateStatus:function(){return!0}}).then((function(a){"fail"!==a.data.status&&"error"!==a.data.status?(e({type:"STOP_USER_LOADING"}),e(D(t))):e({type:S,payload:a.data.error})})).catch((function(e){return console.error(e)}))}));var t}},"Delete"),r.a.createElement(E.a,{onClick:function(){o(!1)}},"Cancel"))))},wt=Object(ke.a)((function(e){return Object(P.a)({},e.spreadThis)}))((function(e){var t,a=Object(n.useState)(null),l=Object(c.a)(a,2),o=l[0],s=l[1],i=Object(w.d)((function(e){return{user:e.user.user?e.user.user:{},posts:e.data.posts,loading:e.user.loading,likes:e.user.likes}}),w.b),m=i.user,u=i.posts,d=i.likes,p=i.loading,f=Object(w.c)(),E=e.classes;Object(n.useEffect)((function(){0===u.length&&f(C())}),[f,u]),t=Object.keys(e.match.params).length>0&&"postId"===Object.keys(e.match.params)[0],Object(n.useEffect)((function(){t&&s(e.match.params.postId)}),[e.match.params,t]);var g=o?r.a.createElement(De,{postId:o,openDialog:!0,history:e.history,rule:t}):null,h="".concat(m.firstName," ").concat(m.lastName),b=u.filter((function(e){return e.owner===h})).map((function(e){var t=d&&d.find((function(t){return t.belongsTo===e._id}))?r.a.createElement(qe,{post:e}):r.a.createElement(ze,{post:e});return r.a.createElement(Ve.a,{className:E.card,key:e._id,variant:"outlined"},r.a.createElement(He.a,{className:E.userImage,image:e.userImage,title:"User"}),r.a.createElement(Ke.a,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"2rem"}},r.a.createElement(ae.a,{className:E.owner},e.owner),r.a.createElement(We,{id:e._id,owner:e.owner})),r.a.createElement(ae.a,{style:{fontWeight:"bold",marginBottom:"bold"}},H()(e.createdAt).fromNow()),r.a.createElement(ae.a,{className:E.text},e.text),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},t,r.a.createElement(Ye,{id:e._id}),r.a.createElement("span",{style:{fontSize:".8rem"}},e.commentCount," Comments"),r.a.createElement(De,{id:e._id}))))})),y=p?r.a.createElement(Qe,null):r.a.createElement("figure",{className:"profile__user-avatar"},r.a.createElement("img",{src:m.userImage,alt:"avatar",className:"profile__user-img"}),r.a.createElement(jt,{history:e.history}),r.a.createElement("figcaption",{className:"profile__user-details"},r.a.createElement("h2",{className:"profile__user-title"},m.firstName+" "+m.lastName),r.a.createElement("p",{className:"profile__user-location"},"Location: ",m.location),r.a.createElement("p",{className:"profile__user-bio"},m.bio.length>0?"Biography:":null," ",m.bio),r.a.createElement("p",{className:"profile__user-bio"},m.bio.length>0?"Website:":null," ",m.website)));return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile__user"},y),r.a.createElement(et.a,{component:"div",className:"profile__posts"},r.a.createElement("h2",{className:"posts__title"},"Posts timeline ",r.a.createElement(le,{symbol:"\ud83d\udcd5",label:"post notes"}),g),r.a.createElement("div",{className:"posts"},b)))})),St=a(98),xt=a.n(St),_t=a(269),Ct=a(273),Nt={palette:{primary:{main:"#00c9ff"},secondary:{main:"#ff0011"},type:"light"},spreadThis:{typography:{fontFamily:"Courgette"},formWrapper:{height:"100%",textAlign:"center",paddingBottom:"30px"},logo:{width:"300px",marginTop:"-30px"},title:{fontSize:"40px",letterSpacing:"5px"},textField:{marginBottom:"5px"},owner:{fontSize:"20px",fontWeight:"bold",alignItems:"center"},card:{maxWidth:"300px",marginBottom:"10px"},post__card:{"&:hover":{}},userImage:{height:"200px",width:"100%","&:hover":{}},paper:{height:"100vh",padding:"20px",position:"fixed"},imageWrapper:{textAlign:"center"},profileImage:{height:"250px",width:"50%",borderRadius:"50%",objectFit:"fill"},postImage:{height:"250px",width:"30%",borderRadius:"50%"},cardSmall:{maxWidth:"400px",margin:"0 auto 10px auto"},postImageSmall:{height:"160px",width:"50%",borderRadius:"50%",marginBottom:".8rem"},logoSmall:{width:"245px",marginTop:"-30px"}}},Tt=function(){var e=function(){var e=Object(n.useState)(Nt),t=Object(c.a)(e,2),a=t[0],r=t[1],l=a.palette.type;return[a,function(){var e=Object(P.a)({},a,{palette:Object(P.a)({},a.palette,{type:"light"===l?"dark":"light"})});r(e)}]}(),t=Object(c.a)(e,2),a=t[0],l=t[1],o=xt()(a),m=Object(w.d)((function(e){return{authenticated:e.user.authenticated}}),w.b).authenticated,u=m?r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:ot}),r.a.createElement(s.b,{exact:!0,path:"/me/posts/:postId",component:wt}),r.a.createElement(s.b,{path:"/me",component:wt}),r.a.createElement(s.a,{to:"/"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:dt}),r.a.createElement(s.b,{path:"/login",component:bt}),r.a.createElement(s.b,{path:"/resetPassword/:token",component:yt}),r.a.createElement(s.b,{component:we}));return r.a.createElement(_t.a,{theme:o},r.a.createElement(Ct.a,null),r.a.createElement(i.a,{basename:"/"},r.a.createElement("div",{className:m?"App":"App-auth"},r.a.createElement(je,{mode:l}),u)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pt=a(56),It=a(148),kt=a(40),Rt={user:{},likes:[],notifications:[],authenticated:!1,loading:!1},At={errors:{},scrollEffect:!1},Dt={posts:[],singlePost:{post:[],comments:[]},loading:!1},Ft=Object(Pt.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGOUT_USER":return Rt;case"SET_AUTHENTICATED":return Object(P.a)({},e,{authenticated:!0,loading:!0});case"SET_USER":return Object(P.a)({authenticated:!0,loading:!1},t.payload);case"LOADING_DATA":return Object(P.a)({},e,{loading:!0});case"STOP_USER_LOADING":return Object(P.a)({},e,{loading:!1});case"LIKE_POST":return Object(P.a)({},e,{likes:[].concat(Object(kt.a)(e.likes),[t.payload])});case"DISLIKE_POST":return Object(P.a)({},e,{likes:e.likes.filter((function(e){return e.belongsTo!==t.id}))});case"READ_NOTIFICATIONS":var a=Object(kt.a)(e.notifications);return a.forEach((function(e){return e.read=!0})),Object(P.a)({},e,{notifications:a});default:return e}},UI:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:At,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(P.a)({},e,{errors:t.payload});case"CLEAR_ERRORS":return Object(P.a)({},e,{errors:{}});case"START_SCROLL_EFFECT":return Object(P.a)({},e,{scrollEffect:"off"!==t.switch});default:return e}},data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return Object(P.a)({},e,{loading:!1,posts:t.payload});case"SET_ONE_POST":return Object(P.a)({},e,{loading:!1,singlePost:t.payload});case"CREATE_POST":return Object(P.a)({},e,{loading:!1});case"DELETE_POST":var a=Object(kt.a)(e.posts),n=a.filter((function(e){return e._id!==t.id}));return Object(P.a)({},e,{posts:n,loading:!1});case"LIKE_POST":var r=Object(kt.a)(e.posts),l=r.findIndex((function(e){return e._id===t.id}));return r[l].likeCount+=1,Object(P.a)({},e,{posts:r});case"DISLIKE_POST":var o=Object(kt.a)(e.posts),c=o.findIndex((function(e){return e._id===t.id}));return o[c].likeCount-=1,Object(P.a)({},e,{posts:o});case"LOADING_FROM_DATA":return Object(P.a)({},e,{loading:!0});case"STOP_LOADING":return Object(P.a)({},e,{loading:!1});case"COMMENT_POST":var s=Object(kt.a)(e.posts),i=s.findIndex((function(e){return e._id===t.id}));return s[i].commentCount+=1,Object(P.a)({},e,{posts:s});case"REMOVE_COMMENT":var m=Object(P.a)({},e.singlePost),u=Object(kt.a)(e.posts),d=m.comments.filter((function(e){return e._id!==t.commentId})),p=u.findIndex((function(e){return e._id===t.id}));return u[p].commentCount-=1,Object(P.a)({},e,{posts:u,singlePost:{post:m.post,comments:d}});default:return e}}}),Lt=[It.a],Wt=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Pt.d)(Pt.a.apply(void 0,Lt)),Mt=Object(Pt.e)(Ft,{},Wt),Ut=a(149),zt=a.n(Ut),Bt=r.a.createElement(w.a,{store:Mt},r.a.createElement(Tt,null)),Gt=localStorage.token;if(Gt){var Yt=zt()(Gt);new Date(1e3*Yt.exp)<new Date?Mt.dispatch({type:"LOGOUT_USER"}):(Mt.dispatch({type:"SET_AUTHENTICATED"}),_.a.defaults.headers.common.Authorization="".concat(Gt),Mt.dispatch(F()))}o.a.render(Bt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a.p+"static/media/logo-mobico-5.e6d997b0.png"}},[[167,1,2]]]);
//# sourceMappingURL=main.249b2f2a.chunk.js.map